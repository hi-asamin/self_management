# webを支える技術

* 分散システムとAjaxがかけあわさって、必要なデータを必要な時に取得でき、1つのサーバでは所持しきれないデータも扱う事が可能になった。

* 変更しないuriが良い（シンプルなuri）
→リソースを表現する名詞にする
→セッションidは含めない
→メソッド名を含めない
→言語の依存拡張子を含めない

* HTTP通信で行われてること
### クライアント
1.リクエストメッセージの構築
2.送信
3.レスポンスがあるまで待機
4.レスポンスメッセージの受信
5.解析
6.クライアントの目的を達成するために必要な処理（基本はHTMLのレンダリング）

### サーバー
1.リクエストの待機
2.リクエストメッセージの受信
3.解析
4.適切なアプリケーションプログラムへ処理の移譲
5.プログラムから処理結果取得
6.レスポンスメッセージの構築
7.送信

* ステートレス
→サーバーがアプリケーション状態を保持しない（セッション情報持たない）
→不特定多数セッションを保持すると、サーバー1台あたりの保持数に限界が訪れ、代数を増やして対応してもサーバー間のオーバーヘッドが否めない
→クライアントが状態を覚え（vuexとか？）必要な情報を全てリクエストに含める
デメリット
・送信するデータ量の増加
・繰り返し発生する認証処理


* 「nonce」はnumberusedonce（一度だけ使われる数字）

* クロスドメイン通信の制限
→Ajaxで利用するXMLHttpRequestはjsファイルを取得したサーバとしか通信できない。
→それ以外のサーバーと通信できてしまうと、ブラウザで入力した情報がユーザーの知らないうちに不正なサーバに送信できてしまうから。

* リソース指向アーキテクチャ（rest）
1.アドレス可能性（最重要）
→uriでリソースを一意に特定できること
→これがないと2と3は実現できない
2.接続性（2番目に重要）
→リソースをリンクで接続し1つのアプリケーションを成す
→次へボタンでリソースを繋げてる
3.統一インターフェース
4.ステートレス性
→クッキーによるセッション管理が必須

* リソース設計
1.webサービスで提供するデータを特定する
2.データをリソースに分ける
3.リソースにuriで名前を付ける
4.クライアントに提供するリソースの表現を設計
5.リンクとフォームを利用してリソース同士を結ぶ
6.イベントの標準的なコースを検討する
→ユースケース
7.エラーを検討する

* バルクアップデート
→メッセージ全体をリクエスト
→実装は簡単だがデータ量が多い
* パーシャルアップデート
→更新したい部分のみアップデート
